{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"About ColorHelper","text":""},{"location":"#colorhelper","title":"ColorHelper","text":"<p>ColorHelper makes working with colors easier by providing inline color previews in your documents (ST3 build 3118+) and offers popups with color previews, color conversion, and allows the storing and accessing of favorite colors in color palettes.  It even provides tools for calculating color contrast, interpolating between colors, and more.</p> <p></p>"},{"location":"#features","title":"Features","text":"<ul> <li>Inline color previews.</li> <li>Useful tooltip popups that show the previews of selected colors.</li> <li>Support colors in CSS, SCSS, SASS, HTML attributes, and more.</li> <li>Allow saving, accessing, and managing colors in named color palettes all from the tooltip.</li> <li>Select and insert colors from the color palettes via the tooltip.</li> <li>Convert between color spaces. Supports <code>rgb</code>, <code>hsl</code>, <code>hwb</code>, <code>lch</code>, <code>lab</code>, and more!</li> <li>Color picker, color interpolating, and color contrast tool.</li> </ul>"},{"location":"faq/","title":"Frequently Asked Questions","text":""},{"location":"faq/#duplicate-colors","title":"Duplicate Colors?","text":"<p>If you are seeing duplicate color previews, it may be because you have an LSP server installed that is injecting its own previews or some other package. While we can't provide an exhaustive list, we've provided a few known examples.</p> <p>Often, the duplicate colors may have a slightly different style, and when you click them, they will not not open the ColorHelper dialog.</p>"},{"location":"faq/#lsp","title":"LSP","text":"<p>Two such examples are <code>LSP-css</code> and <code>LSP-json</code>.</p> <p>The solution is to disable either ColorHelper or the color provider for the LSP package. If you are here, you probably enjoy ColorHelper's features and would prefer to disable the LSP package provider. If so, you can do the following.</p> <p>For <code>LSP-css</code>:</p> <p>In case it's <code>LSP-css</code>, you can disable the color boxes as follows: Run <code>Preferences: LSP-css Settings</code> from the Command Palette. Then add:</p> <pre><code>    \"disabled_capabilities\": {\n\"colorProvider\": true,\n},\n</code></pre> <p>For <code>LSP-json</code>:</p> <p>In case it's <code>LSP-json</code>, you can disable the color boxes as follows: Run <code>Preferences: LSP-json Settings</code> from the Command Palette. Then add:</p> <pre><code>{\n\"disabled_capabilities\": {\n// the trigger characters are too blunt, we'll specify auto_complete_selector manually\n\"completionProvider\": {\n\"triggerCharacters\": true\n},\n\"colorProvider\": true\n}\n}\n</code></pre> <p>There may be other LSP packages. It is assumed the approach would be similar for all of them. Just make sure to check what the default disabled capabilities are and copy them over in addition to adding your own.</p>"},{"location":"faq/#advanced-substation-alpha-ass","title":"Advanced Substation Alpha (ASS)","text":"<p>One package that comes with color previews out of the box is the Advanced Substation Alpha (ASS) package.</p> <p>You can disable their color previews by modifying it's settings with the following.</p> <p>Navigate to <code>Preferences -&gt; Package Settings -&gt; Advanced Substation Alpha (ASS) -&gt; Settings</code>. Then add:</p> <pre><code>{\n// when to show a color phantom beside a color code?\n// can be \"never\", \"always\" or \"hover\"\n\"show_color_phantom\": \"never\",\n}\n</code></pre>"},{"location":"faq/#hex-uppercase","title":"Hex Uppercase","text":"<p>How do I output hex in uppercase?</p> <p>Some people prefer hex to all be in uppercase, and some may prefer lowercase. ColorHelper, by default, outputs strings in lowercase. But worry not, as you can change this via the settings. ColorHelper 2 used to have a <code>upper_case_hex</code> option, but ColorHelper 3 is a bit different.</p> <p>In order to make ColorHelper more flexible than ever, we created a dependency called <code>coloraide</code> which is used to handle all the conversions, CSS string parsing, and CSS string output. This library allows for each color space to define its own string output options. These options are exposed via the settings.</p> <p>Each configuration for a given file type will specify a \"color class\". For instance, HTML and CSS use <code>css-level-4</code> by default.</p> <pre><code>    \"color_rules\": [\n{\n\"name\": \"HTML/CSS\",\n\"base_scopes\": [\n\"source.css\",\n\"text.html\"\n],\n\"color_class\": \"css-level-4\", // &lt;--- specified color class\n</code></pre> <p>If there was a desire to make make any rule that uses <code>css-level-4</code> output hex in uppercase, the color class configuration options could be overridden in <code>user_color_classes</code>:</p> <pre><code>    \"user_color_classes\": {\n\"css-level-4\": {\n\"output\": [\n{\"space\": \"srgb\", \"format\": {\"hex\": true, \"upper\": true}}, // &lt;--- `upper` forces hex to uppercase\n{\"space\": \"srgb\", \"format\": {\"comma\": true}},\n{\"space\": \"hsl\", \"format\": {\"comma\": true}},\n{\"space\": \"hwb\", \"format\": {\"comma\": false}},\n{\"space\": \"lch\", \"format\": {\"comma\": false}},\n{\"space\": \"lab\", \"format\": {\"comma\": false}},\n{\"space\": \"display-p3\", \"format\": {}},\n{\"space\": \"rec2020\", \"format\": {}},\n{\"space\": \"prophoto-rgb\", \"format\": {}},\n{\"space\": \"a98-rgb\", \"format\": {}},\n{\"space\": \"xyz\", \"format\": {}}\n]\n}\n},\n</code></pre> <p>Simply reference the name of the color class you wish to override under <code>user_color_classes</code>, specify the \"key\" you wish to override (<code>output</code> in our case) and provide your new preferences. Any options that would normally be passed to ColorAide's <code>to_string</code> function can be passed via the <code>format</code> parameter under <code>output</code>. In our case, we want to pass in <code>upper</code> as <code>True</code>.</p>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#package-control","title":"Package Control","text":"<p>The recommended way to install ColorHelper is via Package Control.  Package Control will install the correct branch on your system and keep it up to date.</p> <ol> <li> <p>Ensure Package Control is installed.  Instructions are found here.</p> </li> <li> <p>In Sublime Text, press ctrl + shift + p (Win, Linux) or cmd +     shift + p (Mac OS) to bring up the quick panel and start typing     <code>Package Control: Install Package</code>.  Select the command and it will show a list of installable plugins.</p> </li> <li> <p>Start typing <code>ColorHelper</code>; when you see it, select it.</p> </li> <li> <p>Restart to be sure everything is loaded proper.</p> </li> <li> <p>Enjoy!</p> </li> </ol>"},{"location":"installation/#manual-installation","title":"Manual Installation","text":"<p>Warning</p> <p>This is not the recommended way to install ColorHelper for the average user.  Installing this way will not get automatically updated.</p> <p>If you are forking for a pull request, you should just clone ColorHelper and run Package Control's <code>Satisfy Dependency</code> command to get all the dependencies.</p> <p>For those who want to install ColorHelper without package control, here are the steps.  It understood that some people for what ever reason will prefer manually and may even have legitimate reasons to do so.  When going this route, you will have to keep all the packages updated yourself.</p> <ol> <li> <p>Download the latest releases of the following dependencies and unpack or git clone in the <code>Packages</code> folder as shown     below:</p> <ul> <li>facelessuser/sublime-markdown-popups -&gt; <code>mdpopups</code></li> <li>https://github.com/packagecontrol/typing/issues -&gt; <code>typing</code></li> </ul> </li> <li> <p>Download and unpack or git clone the latest ColorHelper release and unpack as <code>ColorHelper</code>:</p> <ul> <li>facelessuser/ColorHelper -&gt; ColorHelper</li> </ul> </li> <li> <p>Create a folder under <code>Packages</code> called <code>00-dependencies</code> and under that folder create a file called     <code>00-dependencies.py</code>:</p> <p>Copy the following code to <code>00-dependencies.py</code> (this code was taken from Package Control):</p> <pre><code>import sys\nimport os\nfrom os.path import dirname\n\nif os.name == 'nt':\n    from ctypes import windll, create_unicode_buffer\n\nimport sublime\n\n\nif sys.version_info &gt;= (3,):\n    def decode(path):\n        return path\n\n    def encode(path):\n        return path\n\n    if os.path.basename(__file__) == 'sys_path.py':\n        pc_package_path = dirname(dirname(__file__))\n    # When loaded as a .sublime-package file, the filename ends up being\n    # Package Control.sublime-package/Package Control.package_control.sys_path\n    else:\n        pc_package_path = dirname(__file__)\n    st_version = u'3'\n\nelse:\n    def decode(path):\n        if not isinstance(path, unicode):\n            path = path.decode(sys.getfilesystemencoding())\n        return path\n\n    def encode(path):\n        if isinstance(path, unicode):\n            path = path.encode(sys.getfilesystemencoding())\n        return path\n\n    pc_package_path = decode(os.getcwd())\n    st_version = u'2'\n\n\nst_dir = dirname(dirname(pc_package_path))\n\n\ndef add(path, first=False):\n\"\"\"\n    Adds an entry to the beginning of sys.path, working around the fact that\n    Python 2.6 can't import from non-ASCII paths on Windows.\n\n    :param path:\n        A unicode string of a folder, zip file or sublime-package file to\n        add to the path\n\n    :param first:\n        If the path should be added at the beginning\n    \"\"\"\n\n    if os.name == 'nt':\n        # Work around unicode path import issue on Windows with Python 2.6\n        buf = create_unicode_buffer(512)\n        if windll.kernel32.GetShortPathNameW(path, buf, len(buf)):\n            path = buf.value\n\n    enc_path = encode(path)\n\n    if os.path.exists(enc_path):\n        if first:\n            try:\n                sys.path.remove(enc_path)\n            except (ValueError):\n                pass\n            sys.path.insert(0, enc_path)\n        elif enc_path not in sys.path:\n            sys.path.append(enc_path)\n\n\ndef remove(path):\n\"\"\"\n    Removes a path from sys.path if it is present\n\n    :param path:\n        A unicode string of a folder, zip file or sublime-package file\n    \"\"\"\n\n    try:\n        sys.path.remove(encode(path))\n    except (ValueError):\n        pass\n\n    if os.name == 'nt':\n        buf = create_unicode_buffer(512)\n        if windll.kernel32.GetShortPathNameW(path, buf, len(buf)):\n            path = buf.value\n        try:\n            sys.path.remove(encode(path))\n        except (ValueError):\n            pass\n\n\ndef generate_dependency_paths(name):\n\"\"\"\n    Accepts a dependency name and generates a dict containing the three standard\n    import paths that are valid for the current machine.\n\n    :param name:\n        A unicode string name of the dependency\n\n    :return:\n        A dict with the following keys:\n         - 'ver'\n         - 'plat'\n         - 'arch'\n    \"\"\"\n\n    packages_dir = os.path.join(st_dir, u'Packages')\n    dependency_dir = os.path.join(packages_dir, name)\n\n    ver = u'st%s' % st_version\n    plat = sublime.platform()\n    arch = sublime.arch()\n\n    return {\n        'all': os.path.join(dependency_dir, 'all'),\n        'ver': os.path.join(dependency_dir, ver),\n        'plat': os.path.join(dependency_dir, u'%s_%s' % (ver, plat)),\n        'arch': os.path.join(dependency_dir, u'%s_%s_%s' % (ver, plat, arch))\n    }\n\n\ndef add_dependency(name, first=False):\n\"\"\"\n    Accepts a dependency name and automatically adds the appropriate path\n    to sys.path, if the dependency has a path for the current platform and\n    architecture.\n\n    :param name:\n        A unicode string name of the dependency\n\n    :param first:\n        If the path should be added to the beginning of the list\n    \"\"\"\n\n    dep_paths = generate_dependency_paths(name)\n\n    for path in dep_paths.values():\n        if os.path.exists(encode(path)):\n            add(path, first=first)\n\nadd_dependency('mdpopups')\nadd_dependency('typing')\n</code></pre> </li> <li> <p>Restart and enjoy.</p> </li> </ol>"},{"location":"installation/#git-cloning","title":"Git Cloning","text":"<ol> <li> <p>Quit Sublime Text.</p> </li> <li> <p>Open a terminal and enter the following.  For dependencies replace the URL with the appropriate URL, and the     appropriate folder to check it out to:</p> <pre><code>cd /path/to/Sublime Text 3/Packages\ngit clone https://github.com/facelessuser/ColorHelper.git ColorHelper\n</code></pre> </li> <li> <p>Restart Sublime Text.</p> </li> </ol>"},{"location":"usage/","title":"User Guide","text":""},{"location":"usage/#overview","title":"Overview","text":"<p>ColorHelper is a plugin for generating color previews. It also provides a couple of useful tools. ColorHelper provides support for a number of color spaces: sRGB, HSL, HWB, LCH, LAB, and more.</p> <p>Note</p> <p>Popups are provided by the <code>mdpopups</code> dependency.</p>"},{"location":"usage/#color-previews","title":"Color Previews","text":"<p>When color previews are enabled, ColorHelper detects colors in the visible viewport, it will create previews right next to every color it finds. When the preview is clicked, a popup will appear which gives access to tools and other features.</p> <p></p> <p>If desired, previews can be configured to only show when a color is selected.</p> <p></p>"},{"location":"usage/#forcing-previews","title":"Forcing Previews","text":"<p>ColorHelper has rules to determine when and where color previews are allowed. If you need to force previews, you can by running the command <code>Color Helper: Override View's Scanning</code> from the command palette. Overrides can be disabled in a similar manner.</p>"},{"location":"usage/#color-gamut-and-previews","title":"Color Gamut and Previews","text":"<p>Colors that are out of the preview gamut space (the default being sRGB) will be gamut mapped. As browsers gamut map by clipping, ColorHelper also gamut maps by clipping by default, but you can use other methods via the <code>gamut_map</code> option.</p> <p>If on ST4, hovering over the color previews will show a tooltip mentioning that the color is out of gamut. This is to remind the user that the color they see has been \"fit\" to the preview color space.</p> <p></p> <p>If gamut mapping is disabled, the color will be displayed in such a way as to indicate that it is out of gamut.</p> <p></p> <p>Sublime Text is not currently aware of gamut spaces in general and treats all colors as generic RGB. This means that color schemes, images, popups, phantoms all just take the RGB values at face value and hands them to the system. So, a color scheme defining HSL, RGB, and the like, which are all in the sRGB gamut, are passed to the system without any modifications based on the actual color profile. So on a macOS system with a Display P3 monitor, those assumed sRGB colors will be treated as Display P3 colors. In this case, reds and greens and blues will be more saturated and generally not correct.</p> <p>As a workaround ColorHelper allows you to change the preview gamut with the <code>gamut_space</code> option. If on a macOS system with a Display P3 display, we can simply set <code>gamut_space</code> to <code>display-p3</code> and we will get more accurate previews for both sRGB colors and Display P3 colors without needing to perform gamut mapping. But keep in mind, this setting should not be changed to a gamut space your monitor does not support or is not currently using or your previews will, likely be distorted.</p> <p>New in 6.2.0</p> <p><code>gamut_map</code> was introduced in 6.2.0. The default gamut mapping was changed from <code>lch-chroma</code> to <code>clip</code> to match actual, real-world browsers.</p> <p>New in 3.8.0</p> <p><code>gamut_space</code> is a new experimental option added in 3.8.0.</p> <p>Gamut Space Option is Experimental</p> <p>The <code>gamut_space</code> option is experimental, and at some future time may no longer function properly if Sublime ever addresses the color gamut issues.</p>"},{"location":"usage/#color-info","title":"Color Info","text":"<p>The Color Info Panel is the main panel. It shows a large color preview and gives access to various tools, such as conversions, access to a color picker, etc. You can  colors and add them to your favorites, or save them away in other palettes than can be accessed later.</p> <p></p>"},{"location":"usage/#color-picker","title":"Color Picker","text":"<p>Native Color Picker?</p> <p>Some people prefer native color pickers, if you'd like to use your operating system's built-in color picker, see the <code>use_os_color_picker</code> option.</p> <p>The internal color picker can be launched from the view's context menu, the command palette, or from the Color Info Panel.  By default, when launched, it will use the current selected color. The internal color picker is contained inside a popup.  It has a color map box at the top where different colors can be selected. You can toggle between altering the color in the sRGB, HSL, or HWB color space. You can also switch between the color map box and sliders.</p> <p></p> <p>The color channels are coarse, but can generally allow you to get close to a color that you like.  As you select colors in the channels the selections will shift revealing more selections until the bounds of the color channel are reached. If you need finer selections, you can click the button to the left and a scrollable tooltip with much finer selections will appear so that you can select the best suited value.</p> <p></p> <p>If you would like to pick from a list of CSS color names, you can select the <code>color names</code> link and a CSS Color Names panel will open:</p> <p></p> <p>When done, simply select the <code>select</code> link to insert the color back into the document.</p> <p>Out of the box <code>hsl</code>, <code>hsv</code>, and <code>srgb</code> are spaces that are enabled when doing color picking. <code>srgb</code> just uses <code>hsl</code> with sRGB channel sliders.</p> <p>If desired, a couple additional color spaces can be used: <code>okhsl</code> and <code>okhsv</code> (HSL and HSV variants based on Oklab), HSLuv (HSL variant derived from CIE Luv), or HWB (HSL picker with with HWB sliders). This can all be configured in the settings.</p> <p>Additionally, if you desire a certain color space to always be used, you can turn off the \"auto\" mode and even specify what your preferred color space for the color picker should be.</p>"},{"location":"usage/#edit-tool","title":"Edit Tool","text":"<p>Experimental Color Interpolation</p> <p>This is an experimental feature, and syntax and behavior is subject to change.</p> <p>The current logic for interpolating is based on the CSS Level 5 Specification, particularly the recent drafts. While the syntax does not follow the specification, the basic logic does.</p> <p>The only logical issue is that if a percentage is applied to both colors, and the sum of those percentages add up to zero, it is unclear what to do as this behavior is currently undefined in the specification and will causes a divide by zero in the percent normalization algorithm. If this case occurs, we currently perform no interpolation and return nothing for this case. In all honestly, it should be rare for someone to try do this as it can only be achieved by either setting both percentages to zero, or to use two opposing percentages, such as 50% and -50%. Neither of these cases are practical.</p> <p>The edit tool allows for the editing and mixing (by interpolation) of colors. While editing, the panel will display a live preview.</p> <p>When <code>@colorspace</code> is specified, the output of the color will be in the given space. Additionally, if mixing, the tool will also interpolate colors in the provided space. If no space is specified, the color space of the first color is used for any interpolations and will be the output color space.</p> <p>The default mixing percentage is 50%, but percents can manually be added to a color to specify a percentage other than the default. If a percentage is only specified on one color, the other color is assumed to be interpolated at <code>100 - p</code>, where <code>p</code> is the specified percent.</p> <p>If percentages are specified on both colors, they must must add up to 100%, and if they do not, they will be normalized.</p> <p>The tool can be launched from the quick panel (if a color is selected), from the info panel, or even the color picker. When editing is complete, simply press enter and the color will be returned to the document for inserting, or to the color picker if launched from there.</p>"},{"location":"usage/#color-contrast-tool","title":"Color Contrast Tool","text":"<p>Contrast and Colors Outside the sRGB gamut</p> <p>Composition of transparent colors are defaulted to the sRGB color space. The contrast ration targeting algorithm is also specific to the sRGB color gamut. For this reason, all colors that are outside of the sRGB gamut are gamut mapped to be within the sRGB color space.</p> <p>The contrast tool allows for viewing a color's contrast ratio or quickly adjusting a color to meet a minimum contrast ratio (if the ratio is achievable).</p> <p>When the color is updated, a visual representation of the foreground and background color will be rendered along with information detailing the relative luminance of the colors and the contrast ratio.</p> <p>If a a ratio is specified, the foreground color will be adjusted in an attempt to meet that requirement.</p> <p>The tool can be launched from the quick panel (if a color is selected), from the info panel, or even the color picker. When editing is complete, simply press enter and the color will be handed returned to the document for inserting, or to the color picker if launched from there.</p>"},{"location":"usage/#sublime-colormod-tool","title":"Sublime ColorMod Tool","text":"<p>The Sublime ColorMod tool allows for entering in Sublime <code>color-mod</code> syntax and should render a color fairly close to what Sublime does. This can be useful in theme or color scheme development.</p> <p>The tool can be launched from the quick panel (if a color is selected), from the info panel, or even the color picker. When editing is complete, simply press enter and the color will be handed returned to the document for inserting, or to the color picker if launched from there.</p>"},{"location":"usage/#blend-modes-tool","title":"Blend Modes Tool","text":"<p>The blend mode tool provides an interface to blend two colors using one of the various supported blend modes. Any color can be specified, but only colors with RGB-ish color spaces should really be used as the blend algorithms are primarily designed for such color spaces.</p> <p>By default, the <code>normal</code> blend mode is used unless a different blend mode is specified with <code>!blendmode</code>.</p> <p>Different color spaces can be used by specifying <code>@colorspace</code>, but it is strongly encouraged to only use RGB-ish color spaces: sRGB, Display P3, Rec. 2020, etc.</p> <p>To learn more about the support supported blend modes, check out <code>coloraide</code> Documentation. Blend modes are specified by lower casing the names and replacing spaces with <code>-</code>.</p>"},{"location":"usage/#color-difference-tool","title":"Color Difference Tool","text":"<p>The Color Difference tool is used to compare two colors. If you select two colors and execute the Color Difference tool from the command palette, you can enter two colors and get the difference using Delta E 2000 which uses CIELAB to compute the difference. You can change the distance method simply by adding <code>!method</code> at the end. Currently, you can use Delta E 2000 (<code>!2000</code>), Delta E CMC (<code>!cmc</code>), Delta E 94 (<code>!94</code>), Delta E 76 (<code>!76</code>), Delta E ITP (<code>!itp</code>), or simple Euclidean distancing (<code>!euclidean</code>).</p> <p>You can also access this tool from the main color panel or even the context menu. If using the panel, the current color will be inserted as the initial text.</p> <p>Keep in mind, if using <code>!euclidean</code>, the color space of the first color is used, and Cylindrical color spaces don't work well.</p> <p>If Enter is pressed, the first color will be returned and Color Helper will prompt you to replace the first selected color in your view. If you do not want this, just dismiss the dialog with Esc.</p>"},{"location":"usage/#color-palettes","title":"Color Palettes","text":"<p>ColorHelper allows for saving colors in color palettes. These are either saved globally or in project specific settings.</p> <p></p> <p>When clicking a palette, all the colors within it will be displayed.</p> <p></p> <p>You can add the current color to any palette you choose, or insert a color from one of your palettes into the active file.</p> <p>While you can manually save or delete colors from \"Favorites\", colors can also be quickly saved away or removed from the global \"Favorites\" palette by staring or un-staring a color from the main panel.</p> <p>Creation and deletion of palettes and colors can be managed directly from the ColorHelper tooltip panels.</p>"},{"location":"about/contributing/","title":"Contributing &amp; Support","text":""},{"location":"about/contributing/#overview","title":"Overview","text":"Sublime\u00a0Versions Description ST3 Fully supported and actively maintained. ST4 Fully supports the early development releases. <p>Contribution from the community is encouraged and can be done in a variety of ways:</p> <ul> <li>Become a sponsor.</li> <li>Bug reports.</li> <li>Reviewing code.</li> <li>Code patches via pull requests.</li> <li>Documentation improvements via pull requests.</li> </ul>"},{"location":"about/contributing/#become-a-sponsor","title":"Become a Sponsor","text":"<p>Open source projects take time and money. Help support the project by becoming a sponsor. You can add your support at any tier you feel comfortable with. No amount is too little. We also accept one time contributions via PayPal.</p> <p> GitHub Sponsors  PayPal</p>"},{"location":"about/contributing/#bug-reports","title":"Bug Reports","text":"<ol> <li> <p>Please read the documentation and search the issue tracker to try to find the answer to your question     before posting an issue.</p> </li> <li> <p>When an issue is created, a template will be shown, please fill out the appropriate sections. If the     template is not followed, the issue will be marked <code>Invalid</code> and closed.</p> </li> <li> <p>When creating an issue on the repository, please provide as much info as possible:</p> <ul> <li>Provide environment information by running <code>Preferences-&gt;Package Settings-&gt;ColorHelper-&gt;Support Info</code>.  The     information will be copied to the clipboard; paste the info in issue.</li> <li>Errors in console.</li> <li>Detailed description of the problem.</li> <li>Examples for reproducing the error.  You can post pictures, but if specific text or code is required to     reproduce the issue, please provide the text in a plain text format for easy copy/paste.</li> <li>Provide links to 3rd party syntax highlighting package you are using if applicable.</li> </ul> <p>The more info provided, the greater the chance someone will take the time to answer, implement, or fix the issue.</p> </li> <li> <p>Be prepared to answer questions and provide additional information if required.  Issues in which the creator refuses     to respond to follow up questions will be marked as stale and closed.</p> </li> </ol>"},{"location":"about/contributing/#reviewing-code","title":"Reviewing Code","text":"<p>Take part in reviewing pull requests and/or reviewing direct commits.  Make suggestions to improve the code and discuss solutions to overcome weakness in the algorithm.</p>"},{"location":"about/contributing/#pull-requests","title":"Pull Requests","text":"<p>Pull requests are welcome, and if you plan on contributing directly to the code, there are a couple of things to be mindful of.</p> <ol> <li> <p>Please describe the change in as much detail as possible so I can understand what is being added or modified.</p> </li> <li> <p>If you are solving a bug that does not already have an issue, please describe the bug in detail and provide info on     how to reproduce if applicable (this is good for me and others to reference later when verifying the issue has been     resolved).</p> </li> <li> <p>Please reference and link related open bugs or feature requests in this pull if applicable.</p> </li> <li> <p>Make sure you've documented or updated the existing documentation if introducing a new feature or modifying the     behavior of an existing feature that a user needs to be aware of.  I will not accept new features or changes to     existing features if you have not provided documentation describing the feature.</p> </li> </ol> <p>Continuous integration tests on are run on all pull requests and commits via Travis CI.  When making a pull request, the tests will automatically be run, and the request must pass to be accepted.  You can (and should) run these tests before pull requesting.  If it is not possible to run these tests locally, they will be run when the pull request is made, but it is strongly suggested that requesters make an effort to verify before requesting to allow for a quick, smooth merge.</p>"},{"location":"about/contributing/#running-validation-tests","title":"Running Validation Tests","text":"<p>Tip</p> <p>If you are running Sublime on a Mac OS or Linux/Unix system, you run all tests by by running the shell script (assuming you have installed your environment fulfills all requirements below):</p> <pre><code>chmod +x run_tests.sh\n./run_tests.sh\n</code></pre> <p>There are a couple of dependencies that must be present before running the tests.</p> <ol> <li> <p>As ST3 is the only current, actively supported version, Python 3.3 must be used to validate the tests.</p> </li> <li> <p>Unit tests are run with <code>pytest</code>.  You can install <code>pytest</code> via:</p> <pre><code>pip install pytest\n</code></pre> <p>The tests should be run from the root folder of the plugin by using the following command:</p> <pre><code>py.test .\n</code></pre> </li> <li> <p>Linting is performed on the entire project with <code>flake8</code>, <code>flake8-docstrings</code>, and <code>pep8-naming</code>.  These can be     installed via:</p> <pre><code>pip install flake8\npip install flake8-docstrings\npip install pep8-naming\n</code></pre> <p>Linting is performed with the following command:</p> <pre><code>flake8 .\n</code></pre> </li> </ol>"},{"location":"about/contributing/#documentation-improvements","title":"Documentation Improvements","text":"<p>A ton of time has been spent not only creating and supporting this plugin, but also spent making this documentation.  If you feel it is still lacking, show your appreciation for the plugin by helping to improve the documentation.  Help with documentation is always appreciated and can be done via pull requests.  There shouldn't be any need to run validation tests if only updating documentation.</p> <p>You don't have to render the docs locally before pull requesting, but if you wish to, I currently use a combination of MkDocs, the Material theme, and PyMdown Extensions to render the docs.  You can preview the docs if you install these two packages.  The command for previewing the docs is <code>mkdocs serve</code> from the root directory. You can then view the documents at <code>localhost:8000</code>.</p>"},{"location":"about/license/","title":"License","text":"<p>ColorHelper is released under the MIT license.</p> <p>Copyright \u00a9 2015 - 2021 Isaac Muse isaacmuse@gmail.com</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE</p>"},{"location":"settings/","title":"Configuring ColorHelper","text":""},{"location":"settings/#overview","title":"Overview","text":"<p>Settings for Color Helper are contained within the <code>color_helper.sublime-settings</code> file. There are a number of options that control the ColorHelper experience. This ranges from tweaking how colors are previewed, what colors are scanned in what files, what features are enabled, etc.</p>"},{"location":"settings/#multiconf","title":"Multiconf","text":"<p>Certain settings, which are likely to be useful as per OS settings or per host, will be configured to use <code>multiconf</code>. <code>multiconf</code> is a library that will parse a setting as a normal setting or a per OS and/or per host setting (if configured properly). For the settings that have this enabled, you can optionally use the format below to specify the setting per OS or per host.</p> <p>The optional <code>multiconf</code> format requires a dictionary with a special identifier <code>#multiconf#</code>  and a list of dictionaries identified by a qualifier in the form:</p> <pre><code>    \"&lt;qualifier name&gt;:&lt;qualifier value&gt;[;&lt;qualifier name&gt;:&lt;qualifier value&gt;]...\"\n</code></pre> <p>For example, the following setting</p> <pre><code>    \"user_home\": \"/home\"\n</code></pre> <p>would result in <code>get(\"user_home\")</code> returning the value \"/home\" but it could also be replaced with</p> <pre><code>    \"user_home\":  {\n\"#multiconf#\": [\n{\"os:windows\": \"C:\\\\Users\"},\n{\"os:linux;host:his_pc\": \"/home\"},\n{\"os:linux;host:her_pc\": \"/home/her/special\"}\n]\n}\n</code></pre> <p>Now, the same configuration file will provide different values depending on the machine it's on. On an MS Windows machine the value returned by <code>get</code> will be \"C:\\Users\", and on a Linux machine with the host name <code>his_pc</code> the value will be \"/home\", etc.</p>"},{"location":"settings/color_picker/","title":"Color Picker","text":""},{"location":"settings/color_picker/#enable_color_picker","title":"<code>enable_color_picker</code>","text":"<p>Enables the ability to launch the color picker from the tooltip.  By default, the internal color picker will be used.</p> <pre><code>    // Enable color picker option.  Will use native color picker\n// unless \"use_color_picker_package\" is enabled and external\n// package is installed.\n\"enable_color_picker\": true,\n</code></pre>"},{"location":"settings/color_picker/#use_os_color_picker","title":"<code>use_os_color_picker</code>","text":"<p>If you wish to use your native color picker available with your OS, you can set this option to <code>True</code>. This will use the native color picker on macOS and Windows. If on Linux, and you have <code>kcolorchooser</code> installed (KDE not required) and in your command line path, then it will be used.</p> <pre><code>    // Use native, OS specific color pickers. Linux requires `kcolorchooser`.\n\"use_os_color_picker\": false,\n</code></pre>"},{"location":"settings/color_picker/#enabled_color_picker_modes","title":"<code>enabled_color_picker_modes</code>","text":"<p>By default color pickers are available in the sRGB, HSL, and HSV color space. sRGB actually just uses the HSL color space picker with sRGB sliders.</p> <p>In addition to the default color pickers, one can enable HWB (HSL color picker with HWB sliders), Okhsl, Okhsv, and HSLuv which are alternatives to the HSL and HSV color spaces. Okhsl and Okhsl are derived from Oklab, and HSLuv is derived from CIE Luv.</p> <pre><code>    // Enable the preferred color picker options: `srgb`, `hsl`, `hsv`, `hwb`, `okhsl`, `okhsv`, `hsluv`\n// If no valid spaces are specified, `srgb` will be used.\n\"enabled_color_picker_modes\": [\"srgb\", \"hsl\", \"hsv\"],\n</code></pre>"},{"location":"settings/color_picker/#auto_color_picker_mode","title":"<code>auto_color_picker_mode</code>","text":"<p>Controls whether ColorHelper, based on the input color, decides which color space to use. If a matching color space cannot be found, the preferred color space picker will be selected.</p> <pre><code>    // If the color is already in the space of an enabled mode, use that mode.\n// If disabled, the \"preferred\" mode will be used.\n\"auto_color_picker_mode\": true,\n</code></pre>"},{"location":"settings/color_picker/#preferred_color_picker_mode","title":"<code>preferred_color_picker_mode</code>","text":"<p>The preferred color picker space to use. If invalid or not enabled, the first enabled color space will be used, and if there are none enabled, <code>srgb</code> will be used as a last resort.</p> <pre><code>    // If \"auto\" mode is disabled, or the \"auto\" mode could not determine a suitable picker,\n// the preferred color picker space will be used. If the preferred is invalid, the\n// first picker from `enabled_color_picker_modes` will be used, and if that is not valid,\n// `srgb` will be used.\n\"preferred_color_picker_mode\": \"hsl\",\n</code></pre>"},{"location":"settings/graphics/","title":"Graphic Rendering","text":""},{"location":"settings/graphics/#graphic_size","title":"<code>graphic_size</code>","text":"<p>Coarse scaling of generated graphics sizes. Graphics in the tooltips look best large as Sublime slightly distorts images, but on different screens, some of the tooltips (especially the internal color picker) may be too large or too small. <code>graphic_size</code> can be used to control the size of these generated images.  Scaling is based off line height, and valid settings are <code>small</code> (0.75X), <code>medium</code> (1X), and <code>large</code> (1.25X). <code>medium</code> is the default.</p> <pre><code>    // If the color picker is too big or too small, try playing with this.\n// This is a coarse control which scales image size relative to the\n// approximate line height. small (0.75x), medium (1x), and large (1.25x).\n// (small | medium | large)\n\"graphic_size\": \"medium\",\n</code></pre> <p>If you need to set this per OS or per host, you can via <code>multiconf</code>.</p>"},{"location":"settings/graphics/#graphic_scale","title":"<code>graphic_scale</code>","text":"<p>Fine scaling of the size of generated graphics. This overrides <code>graphic_size</code>.</p> <pre><code>    // Fine scaling of image sizes. Overrides `graphic_size`.\n// Use an integer or floating point value. `null` disables fine scaling.\n\"graphic_scale\": 1.5,\n</code></pre> <p>If you need to set this per OS or per host, you can via <code>multiconf</code>.</p>"},{"location":"settings/graphics/#line_height_workaround","title":"<code>line_height_workaround</code>","text":"<p>Temporary workaround for Windows 10 HiDPI setups that reduces image sizes.</p> <pre><code>    // For Windows 10 HiDPI setups.  This is a temporary workaround\n// to help reduce abnormally large color previews and other images.\n// This will be removed once the issue is fixed in Sublime Text 3.\n\"line_height_workaround\": false,\n</code></pre>"},{"location":"settings/graphics/#inline_preview_offset","title":"<code>inline_preview_offset</code>","text":"<p>ColorHelper does its best to calculate the correct size for inline images, but with some font's or screen resolutions (or for a reason I don't quite understand) it will get it wrong and create an image larger (or maybe smaller) than your line height which may cause an undesirable look. Set this value to either a positive or negative value which will be applied to the inline preview's image size.</p> <pre><code>    // Adjust the size of inline image previews by the offset given.\n// Please use either a positive or negative number.\n\"inline_preview_offset\": 0,\n</code></pre> <p>If you need to set this per OS or per host, you can via <code>multiconf</code>.</p>"},{"location":"settings/graphics/#image_border_color","title":"<code>image_border_color</code>","text":"<p>For themes with popups that have a very different background than what is found as the default code background, it may be desirable to override image borders with a color that blends better.</p> <p>Colors specified in the setting can be of the of any valid CSS color in the sRGB, HSL, or HWB color space. <code>null</code> can be used to remove your override.</p> <pre><code>    // Override image border color. This is mainly for schemes that use a dramatically different\n// background for popups vs code background. Color should be in the form `#RRGGBB`. Alpha channels will\n// be ignored.\n\"image_border_color\": \"rgb(0 0 0)\"\n</code></pre>"},{"location":"settings/palettes/","title":"Color Palettes","text":""},{"location":"settings/palettes/#enable_global_user_palettes","title":"<code>enable_global_user_palettes</code>","text":"<p>Enables showing user palettes (found in <code>Packages/User/color_helper.palettes</code>) in the Palette Panel.</p> <pre><code>    // Show global palettes in palette panel\n\"enable_global_user_palettes\": true,\n</code></pre>"},{"location":"settings/palettes/#enable_favorite_palette","title":"<code>enable_favorite_palette</code>","text":"<p>Enables showing the Favorites palette (found in <code>Packages/User/color_helper.palettes</code>) in the Palette Panel.</p> <pre><code>    // Enable storing favorite colors to the favorite palette\n\"enable_favorite_palette\": true,\n</code></pre>"},{"location":"settings/palettes/#enable_project_user_palettes","title":"<code>enable_project_user_palettes</code>","text":"<p>Enables showing and storing of user palettes in the project file.  Project palettes will be shown in the Palette Panel.</p> <pre><code>    // Enable project palettes in palette panel (Palettes stored in project file).\n\"enable_project_user_palettes\": true\n</code></pre>"},{"location":"settings/previews/","title":"Previews","text":""},{"location":"settings/previews/#inline_previews","title":"<code>inline_previews</code>","text":"<p>Enable/disable inline color previews. <code>inline_previews</code> generates an image previews after the identified color in your source file.  You can click the preview to bring up the ColorHelper panel.</p>"},{"location":"settings/previews/#inline_preview_position","title":"<code>inline_preview_position</code>","text":"<p>Previews can be positioned to the left or right of a color. Set this value to \"left\" or \"right to toggle its behavior.</p> <pre><code>    // Adjust the position of inline image previews.\n// (left|right)\n\"inline_preview_position\": \"left\",\n</code></pre>"},{"location":"settings/previews/#_1","title":"Previews","text":"<p>Color previews are processed in a sliding window. Without any padding it exactly matches the visible region. This allows you to extend the window and process content just out of visible range. It should be noted though that large padding could cause typing or scrolling lag.</p> <pre><code>    // Define padding around sliding preview window\n// Extend the range previews processed by ColorHelper.\n// Value should be positive integers and represent the rows and columns\n// to extend the range by. Padding is applied on both sides. So padding\n// by 20 rows pads by 20 on the top and 20 on the bottom. Large padding\n// could cause lag with typing or scrolling.\n\"preview_window_padding\": [20, 20],\n````\n\n## `preview_on_select`\n\nEnables/disables previews only showing when they are selected.\n\n```js\n    // Only show color previews next to a color when the color region\n    // intersects the current selection(s). If a selection is empty\n    // (just a caret), if the caret is at the start or within the color\n    // region, a preview will also show.\n    \"preview_on_select\": false ,\n</code></pre>"},{"location":"settings/previews/#show_out_of_gamut_preview","title":"<code>show_out_of_gamut_preview</code>","text":"<p>Controls whether previews will attempt to gamut map a color that is out of the preview gamut.</p> <pre><code>    // Controls whether previews will try to visually show an out of gamut\n// color by using gamut mapping.\n\"show_out_of_gamut_preview\": true,\n</code></pre>"},{"location":"settings/previews/#gamut_space","title":"<code>gamut_space</code>","text":"<p>Experimental Feature</p> <p>New in 3.8.0</p> <p>Select the gamut space used for color previews. You should only pick a space that matches your system. If you happen to have a display that does not align with one of the spaces below, you may just have to pick whatever is closest.</p> <p>Preview accuracy is based on how precise Sublime is able to render colors and how close one of these profiles aligns to your display and it's currently configured profile. If at one time, Sublime actually manages colors, this may or may not be required, or may change in functionality. If your display supports Display P3, but is configured with a profile for sRGB, then you should not touch the below setting.</p> <pre><code>    // The gamut space to render previews in.\n// Supported spaces are: `srgb`, `display-p3`, `rec2020`,\n//                       `a98-rgb`, and `prophoto-rgb`.\n// If your display does not run with one of these gamuts,\n// You should not change this.\n\"gamut_space\": \"srgb\",\n</code></pre>"},{"location":"settings/previews/#gamut_map","title":"<code>gamut_map</code>","text":"<p>New in 6.2.0</p> <p>Select the gamut mapping approach used when displaying previews or when cohering colors into a specific gamut anywhere else in the code.</p> <pre><code>    // Gamut mapping approach\n// Supported methods are: `lch-chroma`, `oklch-chroma`, and `clip` (default).\n// `lch-chroma` was the original default before this was configurable.\n\"gamut_map\": \"clip\",\n</code></pre>"},{"location":"settings/rules/","title":"Configuring ColorHelper","text":""},{"location":"settings/rules/#add_to_default_spaces","title":"<code>add_to_default_spaces</code>","text":"<p>ColorHelper uses the <code>coloraide</code> library to provide support for all the different color spaces. <code>coloraide</code> ships with a lot of color spaces, but only registers a select few in order to properly support CSS and a couple specific features. ColorHelper provides a way to register additional color spaces that ship with <code>coloraide</code> (or even custom color spaces written by a user) via the <code>add_to_default_spaces</code>.</p> <p>By default, ColorHelper does enable a few additional spaces, but a user can more if they have a need. It should be noted that a restart of Sublime Text is required for these changes to take affect as changes to this setting affect the plugin throughout.</p> <pre><code>    // This option requires a restart of Sublime Text.\n// This allows a user to add NEW previously unincluded color spaces.\n// This ensures that the new color space will work in palettes etc.\n// Then, custom color classes can override the space for special, file\n// specific formatting via the `class` attribute under `user_color_classes`.\n\"add_to_default_spaces\": [\n// \"ColorHelper.lib.coloraide.spaces.cmy.CMY\",\n// \"ColorHelper.lib.coloraide.spaces.cmyk.CMYK\",\n// \"ColorHelper.lib.coloraide.spaces.din99o.Din99o\",\n// \"ColorHelper.lib.coloraide.spaces.hsi.HSI\",\n// \"ColorHelper.lib.coloraide.spaces.hunter_lab.HunterLab\",\n// \"ColorHelper.lib.coloraide.spaces.ictcp.ICtCp\",\n// \"ColorHelper.lib.coloraide.spaces.igtgpg.IgTgPg\",\n// \"ColorHelper.lib.coloraide.spaces.itp.ITP\",\n// \"ColorHelper.lib.coloraide.spaces.jzazbz.Jzazbz\",\n// \"ColorHelper.lib.coloraide.spaces.jzczhz.JzCzhz\",\n// \"ColorHelper.lib.coloraide.spaces.lch99o.lch99o\",\n// \"ColorHelper.lib.coloraide.spaces.orgb.ORGB\",\n// \"ColorHelper.lib.coloraide.spaces.prismatic.Prismatic\",\n// \"ColorHelper.lib.coloraide.spaces.rec2100pq.Rec2100PQ\",\n// \"ColorHelper.lib.coloraide.spaces.rlab.RLAB\",\n// \"ColorHelper.lib.coloraide.spaces.ucs.UCS\",\n// \"ColorHelper.lib.coloraide.spaces.uvw.UVW\",\n// \"ColorHelper.lib.coloraide.spaces.xyy.XyY\",\n\"ColorHelper.lib.coloraide.spaces.hsluv.HSLuv\",\n\"ColorHelper.lib.coloraide.spaces.lchuv.Lchuv\",\n\"ColorHelper.lib.coloraide.spaces.luv.Luv\",\n\"ColorHelper.lib.coloraide.spaces.okhsl.Okhsl\",\n\"ColorHelper.lib.coloraide.spaces.okhsv.Okhsv\"\n],\n</code></pre>"},{"location":"settings/rules/#color_rules","title":"<code>color_rules</code>","text":"<p>The <code>color_rules</code> option configures how ColorHelper interacts with a given file. In order for ColorHelper to inject color previews, translate colors, and various other tasks, it needs context, and rules provide that context.</p> <pre><code>    \"color_rules\": [\n{\n\"name\": \"HTML/CSS\",\n\"base_scopes\": [\n\"source.css\",\n\"text.html\"\n],\n\"color_class\": \"css-level-4\",\n\"scanning\": [\n// https://packagecontrol.io/packages/CSS3\n\"meta.declaration-list.css -support.type.property-name.css -comment -string\",\n// CSS, CSS in HTML etc. (based on: Sublime Default)\n\"meta.property-value.css -comment -string\",\n// CSS3, CSS3 in HTML etc. (based on: https://packagecontrol.io/packages/CSS3)\n\"meta.value.css -comment -string\",\n// HTML attributes (based on: Sublime Default)\n\"meta.tag.inline.any.html string.quoted -constant.character.entity.html\",\n\"meta.tag.any.html meta.attribute-with-value.style.html\"\n]\n}\n]\n</code></pre> <p>A rule will define what kind of colors ColorHelper should look for, and where in the file valid colors are found.</p> <p><code>color_rules</code> is a list of rule sets, where each rule is a dictionary of options. Only one rule set can apply to a given view at a time.</p> <p>Tip</p> <p>New rules and rule overrides should be added to <code>user_color_rules</code> instead of modifying <code>color_rules</code> directly.</p>"},{"location":"settings/rules/#name","title":"<code>name</code>","text":"<p>Optional name. If a user creates a rule in <code>user_color_rules</code>, and it it shares the same <code>name</code> as a rule under <code>color_rules</code>, a shallow merge of the two rules will be made which will allow the user rule to override the values of top level keys.</p> <pre><code>    \"name\": \"HTML/CSS\",\n</code></pre>"},{"location":"settings/rules/#syntax_files","title":"<code>syntax_files</code>","text":"<p>Target a view using a syntax file from the given list. Defaults to an empty list.</p> <p>When specifying syntax files, you would use full path relative to <code>Packages</code>. The extension should be omitted.</p> <pre><code>    \"syntax_files\": [\n\"PackageDev/Package/Sublime Text Color Scheme/Sublime Text Color Scheme\",\n\"PackageDev/Package/Sublime Text Theme/Sublime Text Theme\"\n],\n</code></pre>"},{"location":"settings/rules/#syntax_filter","title":"<code>syntax_filter</code>","text":"<p>Specify whether <code>syntax_files</code> is an <code>allowlist</code> or <code>blocklist</code>.  Default's to <code>allowlist</code>.</p> <pre><code>    \"syntax_filter\": \"allowlist\",\n</code></pre>"},{"location":"settings/rules/#base_scopes","title":"<code>base_scopes</code>","text":"<p>Target a view whose base scope matches something from the list of scopes. Defaults to an empty list.</p> <pre><code>    \"base_scopes\": [\n\"source.css\",\n\"text.html\"\n],\n</code></pre>"},{"location":"settings/rules/#extensions","title":"<code>extensions</code>","text":"<p>Target a view with an extension from the provided list. Defaults to an empty list.</p> <pre><code>    \"extensions\": [\".tmTheme\"],\n</code></pre>"},{"location":"settings/rules/#color_class","title":"<code>color_class</code>","text":"<p>A string defining the name of a color class to use for the scopes within the current view. Color class name should be defined in <code>color_classes</code>.</p> <pre><code>    \"color_class\": \"css-level-4\",\n</code></pre> <p>If needed, you can define multiple color classes with a list of dictionaries. Each dictionary in the list should contain a <code>class</code> and <code>scopes</code>:</p> <ul> <li> <p><code>scopes</code>: A string that defines a base scope that the color class applies to.</p> </li> <li> <p><code>class</code>:  The name of the color class profile to use (defined in <code>color_classes</code>).</p> </li> </ul> <pre><code>    \"color_class\": [\n{\"class\": \"css-level-4\", \"scopes\": \"-comment -string\"},\n// etc.\n]\n</code></pre>"},{"location":"settings/rules/#scanning","title":"<code>scanning</code>","text":"<p>Scanning will only find colors within certain scopes in a file. This is to help avoid generating previews in areas of a document that are undesirable. Often used to avoid generating previews in comments etc.</p> <p>This option is a list containing scopes that should be scanned for colors.</p> <pre><code>    \"scanning\": true,\n</code></pre>"},{"location":"settings/rules/#color_trigger","title":"<code>color_trigger</code>","text":"<p>It is slow to iterate an entire buffer directly with the color class to match colors, so do a quick search for tokens that should trigger a color check. That way we only test in places where we think we might have a valid color. For instance, the color class can translate colors in the form <code>rgb(1 1 1 / 1)</code>, so we can specify <code>rgb(</code> as a color trigger. If we find <code>rgb(</code>, we will test that spot's scope and attempt to read in a color at that location. Defaults to:</p> <pre><code>\"(?i)(?:\\b(?&lt;![-#&amp;])(?:color|hsla?|lch|lab|hwb|rgba?)\\(|\\b(?&lt;![-#&amp;])[\\w]{3,}(?!\\()\\b|(?&lt;![&amp;])#)\"\n</code></pre> <pre><code>\"color_trigger\": \"(?i)(?:\\\\b(?&lt;![-#&amp;])[\\\\w]{3,}(?!\\\\()\\\\b|(?!&lt;&amp;)\\\\#)\",\n</code></pre>"},{"location":"settings/rules/#allow_scanning","title":"<code>allow_scanning</code>","text":"<p>This is an easy way to disable just scanning within a certain rule set. Defaults to <code>true</code>.</p> <pre><code>\"allow_scanning\": true,\n</code></pre>"},{"location":"settings/rules/#enable","title":"<code>enable</code>","text":"<p>This can be used to disable a color rule set entirely. Defaults to <code>true</code>.</p> <pre><code>\"enable\": true,\n</code></pre>"},{"location":"settings/rules/#user_color_rules","title":"<code>user_color_rules</code>","text":"<p>Follows the same format as <code>color_rules</code>, but is made so users can append to existing color rules. If a <code>name</code> is specified, and it matches a rule <code>name</code> in the default <code>color_rules</code>, the top level key values in the user rule will override the values in the default rules.</p> <pre><code>    // User rules. These will be appended to the normal `color_rules` unless they\n// share the same name. In that case, a shallow merge will be performed allowing\n// the values of top level keys to be overridden and new keys to be added.\n\"user_color_rules\": [],\n</code></pre>"},{"location":"settings/rules/#generic","title":"<code>generic</code>","text":"<p>This defines a generic fallback rule for files that don't match anything in <code>color_rules</code>. This allows color tools to work anywhere by providing them with sane defaults. By default, scanning is not enabled in files with generic rules, but you can enable it if you wish.</p> <p>Generally, <code>generic</code> accepts all rules that can be applied to <code>color_rules</code> except rules that filter out specific views such as: <code>sytnax_files</code>, <code>syntax_filter</code>, <code>base_scopes</code>, and <code>extensions</code>. Additionally, <code>color_class</code> only accepts a string defining a single color class. It will not accept multiple color classes.</p> <pre><code>    \"generic\": {\n\"allow_scanning\": false,\n\"scanning\": [\"-comment -string\"],\n\"color_class\": \"css-level-4\"\n},\n</code></pre>"},{"location":"settings/rules/#color_classes","title":"<code>color_classes</code>","text":"<p>ColorHelper uses the <code>Color</code> class from the <code>coloraide</code> dependency to manage, manipulate, and translate colors. By default, this color class contains color spaces that accept inputs that match valid CSS. They also output colors in the form of valid CSS.</p> <p>For some file types, it may be desirable to filter out certain color spaces, alter the default output options, or even alter the input and output formats entirely.</p> <p><code>color_classes</code> is a dictionary of color profiles that link to a specific <code>Color</code> class and provides various options you can tweak related to the <code>Color</code> class.</p> <p>The key of the dictionary is the name of the color profile  which can be referenced by <code>color_rules</code>. The value is a dictionary of options.</p> <p>Generally, either the base color space should be used (<code>ColorHelper.lib.coloraide.Color</code>) or one of the available custom color classes. If none of these are sufficient, it is possible to create your own custom class.</p>"},{"location":"settings/rules/#output","title":"<code>output</code>","text":"<p>This can be used to specify the output options available when converting a color or inserting a color from the color picker or other tools. Specify the color <code>space</code> from the <code>Color</code> class to use, and the options to supply to the <code>Color</code> class' <code>to_string</code> method. Defaults to:</p> <pre><code>[\n{\"space\": \"srgb\", \"format\": {\"hex\": True}},\n{\"space\": \"srgb\", \"format\": {\"comma\": True, \"precision\": 3}},\n{\"space\": \"hsl\", \"format\": {\"comma\": True, \"precision\": 3}},\n{\"space\": \"hwb\", \"format\": {\"comma\": False, \"precision\": 3}},\n{\"space\": \"lch\", \"format\": {\"comma\": False, \"precision\": 3}},\n{\"space\": \"lab\", \"format\": {\"comma\": False, \"precision\": 3}},\n{\"space\": \"xyz\", \"format\": {}}\n]\n</code></pre> <p>To learn more about available options, see <code>coloraide</code>'s documentation.</p>"},{"location":"settings/rules/#class","title":"<code>class</code>","text":"<p>This allows a user to specify a custom color class derived from the default color class.</p> <p>The default color class is <code>ColorHelper.lib.coloraide.Color</code>. ColorHelper also provides some additional custom classes which are found here.</p> <p>The value should be the full import path for the <code>Color</code> class.</p> <pre><code>\"class\": \"ColorHelper.custom.tmtheme.ColorSRGBX11\",\n</code></pre> <p>If none of the provided color classes are sufficient, it is possible to create your own custom class. With that said, there are a few things to note:</p> <ul> <li> <p>Custom classes should be derived from the default base class, but there is a catch, ColorHelper handles the default     (<code>ColorHelper.lib.coloraide.Color</code>) special. This allows us to enable the users with the ability of defining what     color spaces the default class contains via the <code>add_to_default_spaces</code> setting. In turn,     ensures all color spaces properly function in features like palettes, etc.</p> <p>So, if creating a custom color space, the user should call <code>ColorHelper.ch_util.get_base_color()</code> to get the actual default class to derive from. Users should not derive directly from <code>ColorHelper.lib.coloraide.Color</code>.</p> </li> <li> <p>Colors are passed back and forth between custom color classes and the default color class. As long as both classes     know how to handle the color space, things should work without issue.</p> <p>If a custom color class is using a color space that is not registered under the default class or is using a color space derived from an unregistered color space, some features won't work.</p> <p>In short, it is import to ensure that all color spaces that are actively used in custom color classes are registered via <code>add_to_default_spaces</code>.</p> <p>If you are creating a brand new color space, you must also register it, or a version of that color space, with the default color class. The registered color space must support the <code>color(id ...)</code> input and output format as that format is often used when passing a color around internally within ColorAide.</p> </li> </ul>"},{"location":"settings/rules/#filters","title":"<code>filters</code>","text":"<p>A list that restricts color recognition to only the specified color spaces. Default is an empty list which allows all color spaces.</p> <p>Allowed color spaces are <code>srgb</code>, <code>hsl</code>, <code>hwb</code>, <code>hsv</code>, <code>lch</code>, <code>lab</code>, <code>xyz</code>, <code>display-p3</code>, <code>rec2020</code>, <code>a98-rgb</code>, and <code>prophoto-rgb</code>.</p> <pre><code>\"filters\": [\"srgb\", \"hsl\"],\n</code></pre>"},{"location":"settings/rules/#edit_mode","title":"<code>edit_mode</code>","text":"<p>Optional parameter that controls the \"edit\" tool that is used in the info panel when you click the large color preview. The default value is <code>default</code>, but can also be be set to <code>st-colormod</code> to use an edit mode that mimics Sublimes <code>color-mod</code> implementation.</p> <p>This was mainly added so users could specify <code>st-colormod</code> when using a compatible color profile for color schemes and themes.</p> <pre><code>\"edit_mode\": \"st-colormod\",\n</code></pre>"},{"location":"settings/rules/#user_color_classes","title":"<code>user_color_classes</code>","text":"<p>Follows the same format as <code>color_classes</code>, but is made so users can append to existing color classes. If a <code>name</code> is specified, and it matches a entry's <code>name</code> in the default <code>color_classes</code>, the top level key values in the user color class will override the values in the default color class.</p> <pre><code>    // User color classes. These will be added to the normal `color_classes` unless they\n// share the same name with an existing entry. In that case, a shallow merge will be performed allowing\n// the values of top level keys to be overridden and new keys to be added.\n\"user_color_classes\": {}\n</code></pre>"},{"location":"settings/tools/","title":"Tools","text":""},{"location":"settings/tools/#click_color_box_to_pick","title":"<code>click_color_box_to_pick</code>","text":"<p>This will make the color preview box in the Color Info Panel clickable. When the preview box is clicked, it will open the specified tool.</p> <pre><code>    // Color picker and palette picker by default\n// are accessed by clicking an icon on the color info panel.\n// Click access for one of these can be moved to the color box\n// (visual representation of the color).\n// (none|color_picker|palette_picker|edit)\n\"click_color_box_to_pick\": \"none\",\n</code></pre>"}]}